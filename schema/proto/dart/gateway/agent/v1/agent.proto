syntax = "proto3";

package dart.gateway.agent.v1;

import "dart/domain/capabilities/v1/compute_capabilities.proto";
import "dart/domain/capabilities/v1/memory_capabilities.proto";
import "dart/domain/capabilities/v1/network_capabilities.proto";
import "dart/domain/capabilities/v1/task_execution_capabilities.proto";
import "google/protobuf/timestamp.proto";
import "google/api/resource.proto";
import "google/api/field_behavior.proto";
import "google/protobuf/struct.proto";

option go_package = "github.com/10Narratives/dart/pkg/dart/gateway/agent/v1;agent";

message Agent {
  option (google.api.resource) = {
    type : "dart.gateway/Agent"
    pattern : "projects/{project}/agents/{agent}"
    singular : "agent"
    plural : "agents"
  };

  // The resource name of the agent.
  // Format: `projects/{project}/agents/{agent}`
  string name = 1 [
    (google.api.field_behavior) = IDENTIFIER,
    (google.api.resource_reference).type = "dart.gateway/Agent"
  ];

  // Compute capabilities of the agent (CPU, GPU).
  dart.domain.capabilities.v1.ComputeCapabilities compute_capabilities = 2;

  // Memory capabilities of the agent.
  dart.domain.capabilities.v1.MemoryCapabilities memory_capabilities = 3;

  // Network capabilities of the agent.
  dart.domain.capabilities.v1.NetworkCapabilities network_capabilities = 4;

  // Task execution capabilities of the agent.
  dart.domain.capabilities.v1.TaskExecutionCapabilities
      task_execution_capabilities = 5;

  // JSON schema describing the expected parameters format for this agent.
  // The schema must be compliant with JSON Schema Draft 7.
  // Example:
  // {
  //   "type": "object",
  //   "properties": {
  //     "input_data": {"type": "string"},
  //     "timeout": {"type": "integer", "default": 30}
  //   },
  //   "required": ["input_data"]
  // }
  string parameters_schema = 7 [ (google.api.field_behavior) = OPTIONAL ];

  // Human-readable descriptions of the parameters (key: parameter name, value:
  // description).
  map<string, string> parameters_descriptions = 8
      [ (google.api.field_behavior) = OPTIONAL ];

  // Output only. Creation timestamp.
  google.protobuf.Timestamp create_time = 6
      [ (google.api.field_behavior) = OUTPUT_ONLY ];
}